<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="3fad2f30-62d2-4ddd-893c-a451eb54648c" activeEnvironment="Default" name="matmaService" resourceRoot="${projectDir}" soapui-version="5.7.1" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:WsdlInterface" id="205c9c02-685d-4648-a75c-c9cb1193acf9" wsaVersion="NONE" name="matmaServiceSOAP" type="wsdl" bindingName="{http://www.examples.com/wsdl/matmaService/}matmaServiceSOAP" soapVersion="1_1" anonymous="optional" definition="WSDL/matmaService.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="file:/home/michal/SoapUI_autoTest/WSDL/matmaService.wsdl"><con:part><con:url>file:/home/michal/SoapUI_autoTest/WSDL/matmaService.wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="matmaService" targetNamespace="http://www.examples.com/wsdl/matmaService/" xmlns:tns="http://www.examples.com/wsdl/matmaService/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <wsdl:types>
    <xsd:schema targetNamespace="http://www.examples.com/wsdl/matmaService/">
      <xsd:element name="dodaj">
        <xsd:complexType>
          <xsd:all>
            <xsd:element name="number1" type="xsd:float"/>
            <xsd:element name="number2" type="xsd:float"/>
          </xsd:all>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="dodajResponse">
        <xsd:complexType>
          <xsd:all>
            <xsd:element name="result" type="xsd:float"/>
          </xsd:all>
        </xsd:complexType>
      </xsd:element>
      <xsd:element name="error">
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="message" type="xsd:string"/>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>
    </xsd:schema>
  </wsdl:types>
  <wsdl:message name="GetSumRequest">
    <wsdl:part element="tns:dodaj" name="parameters"/>
  </wsdl:message>
  <wsdl:message name="GetSumResponse">
    <wsdl:part element="tns:dodajResponse" name="parameters"/>
  </wsdl:message>
  <wsdl:message name="errorMessage">
    <wsdl:part element="tns:error" name="parameters"/>
  </wsdl:message>
  <wsdl:portType name="MathService">
    <wsdl:operation name="GetSum">
      <wsdl:input message="tns:GetSumRequest"/>
      <wsdl:output message="tns:GetSumResponse"/>
      <wsdl:fault message="tns:errorMessage"/>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="matmaServiceSOAP" type="tns:MathService">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="GetSum">
      <soap:operation soapAction="http://www.examples.com/wsdl/matmaService/GetSum"/>
      <wsdl:input>
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="matmaService">
    <wsdl:documentation>WSDL File for matmaService - self-made example of WSDL for mocking and testing</wsdl:documentation>
    <wsdl:port binding="tns:matmaServiceSOAP" name="matmaServiceSOAP">
      <soap:address location="http://www.example.org/matmaService"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://pop-os:8088/matmaService</con:endpoint><con:endpoint>http://www.example.org/matmaService</con:endpoint></con:endpoints><con:operation id="daf5a9f5-a359-482a-af28-bf732942b873" isOneWay="false" action="http://www.examples.com/wsdl/matmaService/GetSum" name="GetSum" bindingOperationName="GetSum" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call id="1a83048b-0aa5-4270-9148-df56893b2272" name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#serverAdress}/matmaService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:mat="http://www.examples.com/wsdl/matmaService/">
   <soapenv:Header/>
   <soapenv:Body>
      <mat:dodaj>
         <!--You may enter the following 2 items in any order-->
         <number2>2.1</number2>
         <number1>-1</number1>
      </mat:dodaj>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.examples.com/wsdl/matmaService/GetSum"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:mockService id="200485bd-5abe-42d7-a309-ed9bffe85491" port="8088" path="/matmaService" host="pop-os" name="matmaServiceSOAP MockService" bindToHostOnly="false" docroot="" faultMockOperation="GetSum"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:properties/><con:mockOperation name="GetSum" id="b1571835-fb19-4f02-809b-2da85d894d29" interface="matmaServiceSOAP" operation="GetSum"><con:settings/><con:defaultResponse>Response 1</con:defaultResponse><con:dispatchStyle>SCRIPT</con:dispatchStyle><con:dispatchPath>// START SCRIPT

def wsdlcontext = context.mockService.getMockedInterfaces()[0].getDefinitionContext() 
def validator = new com.eviware.soapui.impl.wsdl.support.wsdl.WsdlValidator(wsdlcontext);



def msgExchange = new com.eviware.soapui.impl.wsdl.panels.mockoperation.WsdlMockRequestMessageExchange(mockRequest, mockOperation);
def errors = validator.assertRequest(msgExchange, false);
if (errors.length > 0 )
return "Invalid"
// END SCRIPT</con:dispatchPath><con:response name="Response 1" id="1b2bf8eb-afe9-47f4-9e2d-b23b9fa8355a" httpResponseStatus="200" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
// get arguments and sum
def arg1 = Float.parseFloat( holder["//number1"] )
def arg2 = Float.parseFloat( holder["//number2"] )
requestContext.sum =  Math.round((arg1 + arg2)*100)/100</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:mat="http://www.examples.com/wsdl/matmaService/">
   <soapenv:Header/>
   <soapenv:Body>
      <mat:dodajResponse>
         <result>${sum}</result>
      </mat:dodajResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.examples.com/wsdl/matmaService/GetSum"/></con:response><con:response name="Invalid" id="1b2bf8eb-afe9-47f4-9e2d-b23b9fa8355a" httpResponseStatus="200" encoding="UTF-8"><con:settings/><con:script/><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:mat="http://www.examples.com/wsdl/matmaService/">
   <soapenv:Header/>
   <soapenv:Body>
      <mat:error>
         <message>Invalid request</message>
      </mat:error>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://www.examples.com/wsdl/matmaService/GetSum"/></con:response><con:dispatchConfig/></con:mockOperation></con:mockService><con:properties><con:property><con:name>serverAdress</con:name><con:value>localhost:8088</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>